<div class="bg-sm-light sticky-top">
  <div class="container-fluid">
    <nav class="navbar navbar-light text-primary py-3">
      <a class="navbar-brand" href="#">
        <img src="./assets/images/Logo_XS2ASandbox.png" class="logo" alt="XS2ASandbox TPP dashboard">
      </a>
    </nav>
  </div>
</div>

<form (ngSubmit)="onSubmit()" [formGroup]="resetPasswordForm" *ngIf="!switchTemplate">
  <div class="card">
    <div class="card-body">
      <div class="card__headline text-center">
        <h2 class="card-title font-weight-bold">Reset Password</h2>
        <div class="my-4 card__subtitle">
          Please enter your bank account username and email
        </div>
      </div>
      <div *ngIf="errorMessage" class="alert alert-danger">
        {{errorMessage}}
      </div>
      <div class="form__margin">
        <div class="form-group">
          <label for="registerTTP">Loginname*</label>
          <input [ngClass]="{'is-invalid': resetPasswordForm.get('login')?.errors && resetPasswordForm.get('login')?.touched
                   || submitted && resetPasswordForm.get('login')?.errors}"
                 autocomplete="off"
                 class="form-control"
                 formControlName="login"
                 id="registerTTP"
                 type="text">
          <div *ngIf="resetPasswordForm.get('login')?.errors?.required"
               class="invalid-feedback">
            Login is Required
          </div>
        </div>

        <div class="form-group">
          <label for="email">E-Mail Address*</label>
          <input [ngClass]="{'is-invalid': resetPasswordForm.get('email')?.errors && resetPasswordForm.get('email')?.touched
                  || submitted && resetPasswordForm.get('email')?.errors}"
                 autocomplete="off"
                 class="form-control"
                 formControlName="email"
                 id="email"
                 type="email">
          <div *ngIf="resetPasswordForm.get('email')?.errors?.required"
               class="invalid-feedback">
            Email is required
          </div>
          <div *ngIf="resetPasswordForm.get('email')?.hasError('pattern')"
               class="invalid-feedback">
            Email is not valid
          </div>
        </div>

      </div>
      <button class="btn btn-primary btn-block" type="submit">Request code</button>
      <div class="text-center text-light-grey">
        <a routerLink="/login">Back to login</a>
      </div>
    </div>
  </div>
</form>

<form (ngSubmit)="onPasswordSubmit()" [formGroup]="confirmNewPasswordForm" *ngIf="switchTemplate">
  <div class="card">
    <div class="card-body">
      <div class="card__headline text-center">
        <h2 class="card-title font-weight-bold">Reset Password</h2>
        <div class="my-4 card__subtitle">
          Please enter your new password
        </div>
      </div>
        <div class="form__margin">
        <div class="form-group">
          <label for="newPassword">New password*</label>
          <input [ngClass]="{'is-invalid': confirmNewPasswordForm.get('newPassword')?.errors && confirmNewPasswordForm.get('newPassword')?.touched
                   || submitted && confirmNewPasswordForm.get('newPassword')?.errors}"
                 autocomplete="off"
                 class="form-control"
                 formControlName="newPassword"
                 id="newPassword"
                 type="text">
          <div *ngIf="confirmNewPasswordForm.get('newPassword')?.errors?.required"
               class="invalid-feedback">
            New password is Required
          </div>
        </div>
      </div>
      <button class="btn btn-primary btn-block" type="submit">Reset password</button>
    </div>
  </div>
</form>



